var e=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],t=["Name","Position","Office","Age","Salary"],n=document.createElement("form");n.classList.add("new-employee-form"),["Name","Position","Age","Salary"].forEach(function(e){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",a=document.createElement("label");a.textContent=e;var r=document.createElement("input");return r.name=t,"Age"===e||"Salary"===e?r.type="number":r.type=n,r.setAttribute("data-qa",t.toLowerCase()),a.appendChild(r),a}(e,e.toLowerCase());n.appendChild(t)});var a=document.createElement("label");a.textContent="Office";var r=document.createElement("select");r.name="office",r.setAttribute("data-qa",a.textContent.toLowerCase()),e.forEach(function(e){var t=document.createElement("option");t.textContent=e,t.value=e,r.appendChild(t)}),a.appendChild(r);var o=n.querySelector('[data-qa="position"]');n.insertBefore(a,o.parentNode.nextSibling);var l=document.createElement("button");l.textContent="Save to table",l.type="submit",n.appendChild(l),document.body.appendChild(n),document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll("thead th"),r=document.querySelector("tbody"),o=Array.from(r.querySelectorAll("tr")),l={};a.forEach(function(e,t){l[t]=!0,e.addEventListener("click",function(){var t=e.textContent.trim(),n=Array.from(a).indexOf(e);(function(e){var a=[];switch(t){case"Name":case"Position":case"Office":a=e.sort(function(e,t){return l[n]?e.cells[n].textContent.trim().localeCompare(t.cells[n].textContent.trim()):t.cells[n].textContent.trim().localeCompare(e.cells[n].textContent.trim())});break;case"Salary":a=e.sort(function(e,t){return l[n]?parseFloat(e.cells[n].textContent.slice(1).split(",").join(""))-parseFloat(t.cells[n].textContent.slice(1).split(",").join("")):parseFloat(t.cells[n].textContent.slice(1).split(",").join(""))-parseFloat(e.cells[n].textContent.slice(1).split(",").join(""))});break;case"Age":a=e.sort(function(e,t){return l[n]?parseInt(e.cells[n].textContent)-parseInt(t.cells[n].textContent):parseInt(t.cells[n].textContent)-parseInt(e.cells[n].textContent)});break;default:return}r.innerHTML="",a.forEach(function(e){return r.appendChild(e)})})(o),l[n]=!l[n]})}),o.forEach(function(e){e.addEventListener("click",function(){o.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")})}),r.addEventListener("dblclick",function(n){var a,r=function(){if(!c){if(c=!0,"Age"===i){var e=parseInt(a.value);e>=18&&e<=90?o.textContent=e:(o.textContent=l,s("Error message","Age must be 18 - 90 years","error"))}else"Name"===i?a.value.trim().length>=4?o.textContent=a.value:(o.textContent=l,s("Error message","Name must have at least 4 letters","error")):"Position"===i?a.value.trim().length>0?o.textContent=a.value:(o.textContent=l,s("Error message","Position must be...","error")):"Salary"===i?a.value.trim().length>0?o.textContent="$"+Number(a.value).toLocaleString("en-US"):o.textContent=l:o.textContent=a.value||l;a.remove()}};n.preventDefault();var o=n.target,l=n.target.textContent,i=o.dataset.columnName||t[o.cellIndex];"Office"===i?(a=document.createElement("select"),e.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,e===l&&(t.selected=!0),a.appendChild(t)})):((a=document.createElement("input")).value=l,"Age"===i||"Salary"===i?(a.type="number",a.min=18,a.max=90):a.type="text"),a.classList.add("cell-input"),o.textContent="",o.appendChild(a),a.focus();var c=!1;a.addEventListener("blur",r),a.addEventListener("keydown",function(e){"Enter"===e.key&&r()})}),n.addEventListener("submit",function(e){e.preventDefault();var a=!0,l=document.createElement("tr");t.forEach(function(e){var t=document.createElement("td"),r=n.querySelector("[name='".concat(e.toLowerCase(),"']"));if("Office"===e){var o=n.querySelector("select[name='office']");t.textContent=o.value,l.appendChild(t)}if("Name"===e)r.value.trim().length>=4?(t.textContent=r.value,l.appendChild(t)):(a=!1,s("Error message","Name must have at least 4 letters","error"));else if("Age"===e){var i=parseInt(r.value);i<=90&&i>=18?(t.textContent=r.value,l.appendChild(t)):(a=!1,s("Error message","Age must be 18 - 90 years","error"))}else"Position"===e?r.value.trim().length>0?(t.textContent=r.value,l.appendChild(t)):(a=!1,s("Error message","Position must be...","error")):"Salary"===e?r.value.trim().length>0?(t.textContent="$"+Number(r.value).toLocaleString("en-US"),l.appendChild(t)):(a=!1,s("Error message","Salary must be...","error")):(t.textContent=r.value,l.appendChild(t))}),a&&(r.appendChild(l),o=Array.from(r.querySelectorAll("tr")),s("Success message","New employee successfully added","success"),n.reset())})});var i=[];function c(){i.forEach(function(e,t){e.style.top="".concat(10+120*t,"px")})}var s=function(e,t,n){var a=document.querySelector("body"),r=document.createElement("div"),o=document.createElement("h2"),l=document.createElement("p");o.innerText=e,o.classList.add("title"),r.setAttribute("data-qa","notification"),l.innerText=t,a.appendChild(r),i.push(r),c(),setTimeout(function(){r.remove(),i.shift(),c()},2e3),r.appendChild(o),r.appendChild(l),r.classList.add("notification",n)};
//# sourceMappingURL=index.0730a2d6.js.map
